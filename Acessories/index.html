<!DOCTYPE html>
<html>

<head>
    <title>Car Accessories</title>
    <link rel="stylesheet" href="css/global.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <h1>Car Accessories</h1>

    <h3>Add Accessory</h3>
    <select id="accessory-select">
        <option value="10">Car Cover</option>
        <option value="20">Seat Covers</option>
        <option value="30">Phone Holder</option>
        <!-- Add more options here -->
    </select>
    <input type="number" id="amount-input" min="1" value="1">
    <button class="add-button" onclick="addItem()">Add</button>

    <h2>Product List</h2>
    <table id="product-list">
        <tr>
            <th>Accessory</th>
            <th>Amount</th>
            <th>Price</th>
        </tr>
    </table>

    <h2>Total Price: <span id="total-price">$0</span></h2>
    <h2>Vat Amount: <span id="vat-amount">$0</span></h2>
    <h2>Total With Vat Value: <span id="total-with-vat">$0</span></h2>

    <script>
        function addItem() {
            var $accessorySelect = $("#accessory-select");
            var selectedAccessory = $accessorySelect.find(":selected").text();
            var selectedAccessoryValue = parseFloat($accessorySelect.val());
            var amount = parseFloat($("#amount-input").val());
            var itemTotalPrice = selectedAccessoryValue * amount;
            var itemVAT = itemTotalPrice * 0.07;
            var itemTotalWithVAT = itemTotalPrice + itemVAT;

            // Insert new row into the table
            $("#product-list").append("<tr><td>" + selectedAccessory + "</td><td>" + amount + "</td><td>$" + itemTotalPrice.toFixed(2) + "</td></tr>");

            // Update total price
            var currentTotalPrice = parseFloat($("#total-price").text().substring(1));
            var newTotalPrice = currentTotalPrice + itemTotalPrice;
            $("#total-price").text("$" + newTotalPrice.toFixed(2));

            // Update VAT amount
            var currentVAT = parseFloat($("#vat-amount").text().substring(1));
            var newVAT = currentVAT + itemVAT;
            $("#vat-amount").text("$" + newVAT.toFixed(2));

            // Update total with VAT
            var currentTotalWithVAT = parseFloat($("#total-with-vat").text().substring(1));
            var newTotalWithVAT = currentTotalWithVAT + itemTotalWithVAT;
            $("#total-with-vat").text("$" + newTotalWithVAT.toFixed(2));
        }
    </script>
</body>

</html>
